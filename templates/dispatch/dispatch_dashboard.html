{% extends "base.html" %}

{% block title %}Dispatcher Dashboard{% endblock %}

{% block content %}

{% if dispatcher %}
    <a href="{{ url_for('edit_dispatcher', user_id=dispatcher.user_id) }}" class="btn btn-primary">Edit Profile</a>
{% endif %}


    <!-- Add buttons to trigger section visibility -->
    <button id="allJobsBtn">Show All Jobs</button>
    <button id="jobsByCompanyBtn">Show Jobs by Company</button>
    <button id="driversWithoutJobsBtn">Show Drivers Without Jobs</button>
    <button id="emptyJobsWithoutDriverBtn">Show Empty Jobs Without Driver</button>

    <!-- Add sections with dynamic IDs -->
    <div id="allJobsSection" class="dashboard-section">
        <!-- Content for All Jobs section -->
        ...
    </div>
    
    <div id="jobsByCompanySection" class="dashboard-section">
        <!-- Content for Jobs by Company section -->
        ...
    </div>
    
    <div id="driversWithoutJobsSection" class="dashboard-section">
        <!-- Content for Drivers Without Jobs section -->
        ...
    </div>
    
    <div id="emptyJobsWithoutDriverSection" class="dashboard-section">
        <!-- Content for Empty Jobs Without Driver section -->
        ...
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            // Hide all sections initially
            $(".dashboard-section").hide();

            // Show the selected section when a button is clicked
            $("#allJobsBtn").click(function () {
                $(".dashboard-section").hide();
                $("#allJobsSection").show();
            });

            $("#jobsByCompanyBtn").click(function () {
                $(".dashboard-section").hide();
                $("#jobsByCompanySection").show();
            });

            $("#driversWithoutJobsBtn").click(function () {
                $(".dashboard-section").hide();
                $("#driversWithoutJobsSection").show();
            });

            $("#emptyJobsWithoutDriverBtn").click(function () {
                $(".dashboard-section").hide();
                $("#emptyJobsWithoutDriverSection").show();
            });
        });
    </script>
{% endblock %}
